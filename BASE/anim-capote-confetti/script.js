const confettiButton = document.getElementById('confettiButton');

// Tab 10 svg
const confettiSVGs = [
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M80.7144 21.4309L51.7144 22C51.7144 8.65416 58.1389 5.79434 61.81 4.84107C63.4446 4.4166 63.9039 3.04763 64.2979 1.87331C64.6924 0.697604 65.0214 -0.282993 66.3989 0.0746947C67.6788 0.407055 67.5704 1.29563 67.4567 2.22807C67.3257 3.30145 67.1877 4.43297 69.1522 4.84107C73.7411 5.79434 80.7144 8.08507 80.7144 21.4309ZM51.7144 22L80.7145 21.4801C80.7145 56.5 59.2144 85.5 6.21448 89.5001V61.5C47.1904 59.3658 49.5429 39.013 50.9092 27.1921C51.1434 25.1658 51.3486 23.3902 51.7144 22Z" fill="url(#paint0_linear_353_1112)"/><path d="M0 61.0173V74.4075C0 78.2333 3.02792e-05 86.656 1.87401 91.4382C4.82682 98.9735 10.8105 92.0477 8.0244 89.2036C5.2383 86.3595 7.40873 84.4492 7.40873 81.5799C7.40873 78.7106 6.55906 79.1899 6.55906 76.3205C6.55906 74.1819 7.49607 72.3093 7.49607 68.4836C7.49607 65.2856 6.55919 62.7452 7.49607 61.0173C9.37008 57.561 6.55906 54.3223 2.81103 55.2787C0.0839303 55.9747 0 58.8587 0 61.0173Z" fill="#EBB237"/><defs><linearGradient id="paint0_linear_353_1112" x1="43.4645" y1="0" x2="43.4645" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#978F80"/><stop offset="1" stop-color="#D2B35D"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M80.7144 21.4309L51.7144 22C51.7144 8.65416 58.1389 5.79434 61.81 4.84107C63.4446 4.4166 63.9039 3.04763 64.2979 1.87331C64.6924 0.697603 65.0214 -0.282995 66.3989 0.0746931C67.6788 0.407053 67.5704 1.29563 67.4567 2.22807C67.3257 3.30145 67.1877 4.43296 69.1522 4.84107C73.7411 5.79434 80.7144 8.08507 80.7144 21.4309ZM51.7144 22L80.7145 21.4801C80.7145 56.5 59.2144 85.5 6.21448 89.5001V61.5C47.1904 59.3658 49.5429 39.013 50.9092 27.1921C51.1434 25.1658 51.3486 23.3902 51.7144 22Z" fill="url(#paint0_linear_353_1132)"/><path d="M0 61.0173V74.4075C0 78.2333 3.02792e-05 86.656 1.87401 91.4382C4.82682 98.9735 10.8105 92.0477 8.0244 89.2036C5.2383 86.3595 7.40873 84.4492 7.40873 81.5799C7.40873 78.7106 6.55906 79.1899 6.55906 76.3205C6.55906 74.1819 7.49607 72.3093 7.49607 68.4836C7.49607 65.2856 6.55919 62.7452 7.49607 61.0173C9.37008 57.561 6.55906 54.3223 2.81103 55.2787C0.0839303 55.9747 0 58.8587 0 61.0173Z" fill="#2A75D0"/><defs><linearGradient id="paint0_linear_353_1132" x1="43.4645" y1="0" x2="43.4645" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#848B9B"/><stop offset="1" stop-color="#6399D7"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M80.7144 21.4309L51.7144 22C51.7144 8.65416 58.1389 5.79434 61.81 4.84107C63.4446 4.4166 63.9039 3.04763 64.2979 1.87331C64.6924 0.697603 65.0214 -0.282995 66.3989 0.0746931C67.6788 0.407053 67.5704 1.29563 67.4567 2.22807C67.3257 3.30145 67.1877 4.43296 69.1522 4.84107C73.7411 5.79434 80.7144 8.08507 80.7144 21.4309ZM51.7144 22L80.7145 21.4801C80.7145 56.5 59.2144 85.5 6.21448 89.5001V61.5C47.1904 59.3658 49.5429 39.013 50.9092 27.1921C51.1434 25.1658 51.3486 23.3902 51.7144 22Z" fill="url(#paint0_linear_353_1142)"/><path d="M0 61.0173V74.4075C0 78.2333 3.02792e-05 86.656 1.87401 91.4382C4.82682 98.9735 10.8105 92.0477 8.0244 89.2036C5.2383 86.3595 7.40873 84.4492 7.40873 81.5799C7.40873 78.7106 6.55906 79.1899 6.55906 76.3205C6.55906 74.1819 7.49607 72.3093 7.49607 68.4836C7.49607 65.2856 6.55919 62.7452 7.49607 61.0173C9.37008 57.561 6.55906 54.3223 2.81103 55.2787C0.0839303 55.9747 0 58.8587 0 61.0173Z" fill="#21A62A"/><defs><linearGradient id="paint0_linear_353_1142" x1="43.4645" y1="0" x2="43.4645" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#839C88"/><stop offset="1" stop-color="#5AC161"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M80.7144 21.4309L51.7144 22C51.7144 8.65416 58.1389 5.79434 61.81 4.84107C63.4446 4.4166 63.9039 3.04763 64.2979 1.87331C64.6924 0.697603 65.0214 -0.282995 66.3989 0.0746931C67.6788 0.407053 67.5704 1.29563 67.4567 2.22807C67.3257 3.30145 67.1877 4.43296 69.1522 4.84107C73.7411 5.79434 80.7144 8.08507 80.7144 21.4309ZM51.7144 22L80.7145 21.4801C80.7145 56.5 59.2144 85.5 6.21448 89.5001V61.5C47.1904 59.3658 49.5429 39.013 50.9092 27.1921C51.1434 25.1658 51.3486 23.3902 51.7144 22Z" fill="url(#paint0_linear_353_1152)"/><path d="M0 61.0173V74.4075C0 78.2333 3.02792e-05 86.656 1.87401 91.4382C4.82682 98.9735 10.8105 92.0477 8.0244 89.2036C5.2383 86.3595 7.40873 84.4492 7.40873 81.5799C7.40873 78.7106 6.55906 79.1899 6.55906 76.3205C6.55906 74.1819 7.49607 72.3093 7.49607 68.4836C7.49607 65.2856 6.55919 62.7452 7.49607 61.0173C9.37008 57.561 6.55906 54.3223 2.81103 55.2787C0.0839303 55.9747 0 58.8587 0 61.0173Z" fill="#B0529B"/><defs><linearGradient id="paint0_linear_353_1152" x1="43.4645" y1="0" x2="43.4645" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#B496AB"/><stop offset="1" stop-color="#E770CD"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M80.7144 21.4309L51.7144 22C51.7144 8.65416 58.1389 5.79434 61.81 4.84107C63.4446 4.4166 63.9039 3.04763 64.2979 1.87331C64.6924 0.697603 65.0214 -0.282995 66.3989 0.0746931C67.6788 0.407053 67.5704 1.29563 67.4567 2.22807C67.3257 3.30145 67.1877 4.43296 69.1522 4.84107C73.7411 5.79434 80.7144 8.08507 80.7144 21.4309ZM51.7144 22L80.7145 21.4801C80.7145 56.5 59.2144 85.5 6.21448 89.5001V61.5C47.1904 59.3658 49.5429 39.013 50.9092 27.1921C51.1434 25.1658 51.3486 23.3902 51.7144 22Z" fill="url(#paint0_linear_353_1122)"/><path d="M0 61.0173V74.4075C0 78.2333 3.02792e-05 86.656 1.87401 91.4382C4.82682 98.9735 10.8105 92.0477 8.0244 89.2036C5.2383 86.3595 7.40873 84.4492 7.40873 81.5799C7.40873 78.7106 6.55906 79.1899 6.55906 76.3205C6.55906 74.1819 7.49607 72.3093 7.49607 68.4836C7.49607 65.2856 6.55919 62.7452 7.49607 61.0173C9.37008 57.561 6.55906 54.3223 2.81103 55.2787C0.0839303 55.9747 0 58.8587 0 61.0173Z" fill="#A34849"/><defs><linearGradient id="paint0_linear_353_1122" x1="43.4645" y1="0" x2="43.4645" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#AC8C8C"/><stop offset="1" stop-color="#D65D5F"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.52588e-05 21.4309L29 22C29 8.65416 22.5756 5.79434 18.9045 4.84107C17.2698 4.4166 16.8105 3.04763 16.4165 1.87331C16.0221 0.697604 15.6931 -0.282993 14.3156 0.0746947C13.0357 0.407055 13.1441 1.29563 13.2578 2.22807C13.3887 3.30145 13.5268 4.43297 11.5623 4.84107C6.97337 5.79434 1.52588e-05 8.08507 1.52588e-05 21.4309ZM29 22L0 21.4801C0 56.5 21.5 85.5 74.5 89.5001V61.5C33.5241 59.3658 31.1716 39.013 29.8053 27.1921C29.5711 25.1658 29.3659 23.3902 29 22Z" fill="url(#paint0_linear_353_1117)"/><path d="M80.7145 61.0173V74.4075C80.7145 78.2333 80.7144 86.656 78.8405 91.4382C75.8876 98.9735 69.904 92.0477 72.6901 89.2036C75.4762 86.3595 73.3057 84.4492 73.3057 81.5799C73.3057 78.7106 74.1554 79.1899 74.1554 76.3205C74.1554 74.1819 73.2184 72.3093 73.2184 68.4836C73.2184 65.2856 74.1553 62.7452 73.2184 61.0173C71.3444 57.561 74.1554 54.3223 77.9034 55.2787C80.6305 55.9747 80.7145 58.8587 80.7145 61.0173Z" fill="#EBB237"/><defs><linearGradient id="paint0_linear_353_1117" x1="37.25" y1="0" x2="37.25" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#978F80"/><stop offset="1" stop-color="#D2B35D"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M-3.05176e-05 21.4309L29 22C29 8.65416 22.5755 5.79434 18.9044 4.84107C17.2698 4.4166 16.8105 3.04763 16.4165 1.87331C16.022 0.697603 15.693 -0.282995 14.3155 0.0746931C13.0356 0.407053 13.144 1.29563 13.2578 2.22807C13.3887 3.30145 13.5267 4.43296 11.5622 4.84107C6.97332 5.79434 -3.05176e-05 8.08507 -3.05176e-05 21.4309ZM29 22L-4.57764e-05 21.4801C-4.57764e-05 56.5 21.5 85.5 74.4999 89.5001V61.5C33.524 59.3658 31.1716 39.013 29.8053 27.1921C29.571 25.1658 29.3658 23.3902 29 22Z" fill="url(#paint0_linear_353_1137)"/><path d="M80.7145 61.0173V74.4075C80.7145 78.2333 80.7144 86.656 78.8405 91.4382C75.8877 98.9735 69.904 92.0477 72.6901 89.2036C75.4762 86.3595 73.3057 84.4492 73.3057 81.5799C73.3057 78.7106 74.1554 79.1899 74.1554 76.3205C74.1554 74.1819 73.2184 72.3093 73.2184 68.4836C73.2184 65.2856 74.1553 62.7452 73.2184 61.0173C71.3444 57.561 74.1554 54.3223 77.9035 55.2787C80.6305 55.9747 80.7145 58.8587 80.7145 61.0173Z" fill="#2A75D0"/><defs><linearGradient id="paint0_linear_353_1137" x1="37.2499" y1="0" x2="37.2499" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#848B9B"/><stop offset="1" stop-color="#6399D7"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.05176e-05 21.4309L29 22C29 8.65416 22.5756 5.79434 18.9045 4.84107C17.2699 4.4166 16.8105 3.04763 16.4165 1.87331C16.0221 0.697603 15.6931 -0.282995 14.3156 0.0746931C13.0357 0.407053 13.1441 1.29563 13.2578 2.22807C13.3888 3.30145 13.5268 4.43296 11.5623 4.84107C6.97338 5.79434 3.05176e-05 8.08507 3.05176e-05 21.4309ZM29 22L1.52588e-05 21.4801C1.52588e-05 56.5 21.5 85.5 74.5 89.5001V61.5C33.5241 59.3658 31.1716 39.013 29.8053 27.1921C29.5711 25.1658 29.3659 23.3902 29 22Z" fill="url(#paint0_linear_353_1147)"/><path d="M80.7145 61.0173V74.4075C80.7145 78.2333 80.7144 86.656 78.8405 91.4382C75.8877 98.9735 69.904 92.0477 72.6901 89.2036C75.4762 86.3595 73.3057 84.4492 73.3057 81.5799C73.3057 78.7106 74.1554 79.1899 74.1554 76.3205C74.1554 74.1819 73.2184 72.3093 73.2184 68.4836C73.2184 65.2856 74.1553 62.7452 73.2184 61.0173C71.3444 57.561 74.1554 54.3223 77.9035 55.2787C80.6305 55.9747 80.7145 58.8587 80.7145 61.0173Z" fill="#21A62A"/><defs><linearGradient id="paint0_linear_353_1147" x1="37.25" y1="0" x2="37.25" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#839C88"/><stop offset="1" stop-color="#5AC161"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.05176e-05 21.4309L29 22C29 8.65416 22.5756 5.79434 18.9045 4.84107C17.2699 4.4166 16.8105 3.04763 16.4165 1.87331C16.0221 0.697603 15.6931 -0.282995 14.3156 0.0746931C13.0357 0.407053 13.1441 1.29563 13.2578 2.22807C13.3888 3.30145 13.5268 4.43296 11.5623 4.84107C6.97338 5.79434 3.05176e-05 8.08507 3.05176e-05 21.4309ZM29 22L1.52588e-05 21.4801C1.52588e-05 56.5 21.5 85.5 74.5 89.5001V61.5C33.5241 59.3658 31.1716 39.013 29.8053 27.1921C29.5711 25.1658 29.3659 23.3902 29 22Z" fill="url(#paint0_linear_353_1157)"/><path d="M80.7145 61.0173V74.4075C80.7145 78.2333 80.7144 86.656 78.8405 91.4382C75.8877 98.9735 69.904 92.0477 72.6901 89.2036C75.4762 86.3595 73.3057 84.4492 73.3057 81.5799C73.3057 78.7106 74.1554 79.1899 74.1554 76.3205C74.1554 74.1819 73.2184 72.3093 73.2184 68.4836C73.2184 65.2856 74.1553 62.7452 73.2184 61.0173C71.3444 57.561 74.1554 54.3223 77.9035 55.2787C80.6305 55.9747 80.7145 58.8587 80.7145 61.0173Z" fill="#B0529B"/><defs><linearGradient id="paint0_linear_353_1157" x1="37.25" y1="0" x2="37.25" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#B496AB"/><stop offset="1" stop-color="#E770CD"/></linearGradient></defs></svg>`,
    `<svg width="81" height="95" viewBox="0 0 81 95" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.05176e-05 21.4309L29 22C29 8.65416 22.5756 5.79434 18.9045 4.84107C17.2699 4.4166 16.8105 3.04763 16.4165 1.87331C16.0221 0.697603 15.6931 -0.282995 14.3156 0.0746931C13.0357 0.407053 13.1441 1.29563 13.2578 2.22807C13.3888 3.30145 13.5268 4.43296 11.5623 4.84107C6.97338 5.79434 3.05176e-05 8.08507 3.05176e-05 21.4309ZM29 22L1.52588e-05 21.4801C1.52588e-05 56.5 21.5 85.5 74.5 89.5001V61.5C33.5241 59.3658 31.1716 39.013 29.8053 27.1921C29.5711 25.1658 29.3659 23.3902 29 22Z" fill="url(#paint0_linear_353_1127)"/><path d="M80.7145 61.0173V74.4075C80.7145 78.2333 80.7144 86.656 78.8405 91.4382C75.8877 98.9735 69.904 92.0477 72.6901 89.2036C75.4762 86.3595 73.3057 84.4492 73.3057 81.5799C73.3057 78.7106 74.1554 79.1899 74.1554 76.3205C74.1554 74.1819 73.2184 72.3093 73.2184 68.4836C73.2184 65.2856 74.1553 62.7452 73.2184 61.0173C71.3444 57.561 74.1554 54.3223 77.9035 55.2787C80.6305 55.9747 80.7145 58.8587 80.7145 61.0173Z" fill="#A34849"/><defs><linearGradient id="paint0_linear_353_1127" x1="37.25" y1="0" x2="37.25" y2="89.5001" gradientUnits="userSpaceOnUse"><stop stop-color="#AC8C8C"/><stop offset="1" stop-color="#D65D5F"/></linearGradient></defs></svg>`
];

//def event sur button
confettiButton.addEventListener('click', async () => {
    //On check si on a déjà un container confetti
    if(document.getElementById('confettiContainer')){
        //On le retire s'il existe
        document.getElementById('confettiContainer').remove();
    }
    //On créé un container pour confetti
    const confettiContainer = document.createElement('div');
    confettiContainer.setAttribute('id', 'confettiContainer');
    //On l'ajoute dans le body (le container est en position fixed)
    document.body.appendChild(confettiContainer);

    //On créé des confettis capotes
    for (let i = 0; i < 100; i++) {
        createFallingConfetti(confettiContainer);
        await wait(50);
    }


});

// C'est pour réguler les premiers générations de capotes et pas tous avoir d'un coup
function wait(milliseconds) {
    return new Promise(resolve => {
        setTimeout(resolve, milliseconds);
    });
}

//Création 1 confetti capote + animation
function createFallingConfetti(confettiContainer) {
    const confetti = document.createElement('div');
    confetti.classList.add('confetti');
    
    // Choisir un SVG aléatoire dans le tableau
    const randomIndex = Math.floor(Math.random() * confettiSVGs.length);
    confetti.innerHTML = confettiSVGs[randomIndex];
    
    // Ajuster la taille de manière aléatoire
    const baseScale = 0.3; // Taille de base plus petite
    const randomScale = baseScale + Math.random() * 0.3; // Variation aléatoire entre 0.3 et 0.6
    
    // Définir la variable CSS pour le scale
    confetti.style.setProperty('--confetti-scale', randomScale);
    // Position aléatoire
    confetti.style.left = `${Math.random() * window.innerWidth}px`;
    confetti.style.top = `-50px`; // Commencer en haut de l'écran

    const animationDuration = Math.random() * 3 + 2; // Durée aléatoire entre 2 et 5 secondes

    // Appliquer l'animation avec 3 répétitions puis s'arrête en bas d'écrans
    confetti.style.animation = `fall ${animationDuration}s linear 3 both`;
    
    //On ajoute dans le container
    confettiContainer.appendChild(confetti);
}
